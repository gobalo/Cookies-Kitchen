/*! Cookies Kitchen - v0.0.0-ignore - 2014-06-09
* https://github.com/gobalo/Cookies-Kitchen
* Copyright (c) 2014 ; Licensed MIT */
var cookiesKitchen;!function(a,b,c,d){b.console=null!==b.console?b.console:{log:function(){},info:function(){}},cookiesKitchen={settings:{apiUrl:"http://gobalo.es/kwsn/api/cookiesKitchen",cookieName:"eatMe",cookieVal:"soGood",cookieTime:100},html:{$advice:null,$content:null,$bg:null,$close:null},tryCount:3,cookie:c.cookie,lastEvent:null,styles:{bg:"#cookies-alert-bg{top:0;left:0;background:black;opacity:0.7;z-index:999;position:fixed;width:100%;height:100%}",1:"#cookies-alert{top:0;left:0;position:fixed;z-index:999999;padding: 10px 0px;width: 100%;background-color:#CA303C;border-bottom:solid 1px #a72731;box-shadow: 0px 0px 2px #a72731;}#cookies-alert p{width: 100%;text-align: center;font-family:'Open Sans',sans-serif,Arial;font-size:14px;margin: 0;color: #fff;}#cookies-alert p a{color:#fff}#cookies-alert #close{font-weight:900;text-shadow: 1px 1px 2px #bbb;cursor:pointer;position:fixed;right: 20px;}",2:"#cookies-alert{bottom:10px;right:20px;position:fixed;z-index:999999;padding:8px 0px;width:400px;background-color:#CA303C;border-radius:4px;}#cookies-alert p{font-family:'Open Sans',sans-serif,Arial;font-size:13px;margin: 0px 20px 0 20px;text-align:justify;color:#fff;}#cookies-alert p a{color:#fff}#cookies-alert #close{cursor:pointer;float:right;text-decoration:underline}"},init:function(){console.log("Cookies-Kitchen: https://github.com/gobalo/Cookies-Kitchen"),console.log("Calentando el horno...");var e=this,f=c.getElementsByTagName("script"),g=f[f.length-1],h=null;this.cookie=c.cookie,a(f).each(function(){"cookiesKitchen"===this.id&&a(this).data("name")!==d&&(b.a=this,g=this,h=a(this))}),this.settings.ext=h.attr("data-extension")||"",this.settings.domain=c.domain+"_"+this.settings.ext,this.settings.name=h.attr("data-name")||this.settings.domain,this.settings.url=h.attr("data-url"),this.settings.animation=h.attr("data-animation"),this.settings.block="true"===h.attr("data-block")?!0:!1,this.settings.style=h.attr("data-style")||1,this.getCookie(this.settings.cookieName)||(this.showAlert(),a.ajax({url:this.settings.apiUrl,dataType:"jsonp",data:{cFn:"cookiesKitchen.cookMe",domain:this.settings.domain},timeout:3e3,error:function(){"timeout"===arguments[1]&&e.cookMe()}}))},setCookie:function(a,b,d){var e=new Date;e.setDate(e.getDate()+d),b=encodeURIComponent(b)+(null===d?"":"; expires="+e.toUTCString()),c.cookie=a+"="+b,this.cookie=c.cookie},getCookie:function(a){var b=this.cookie,c=b.indexOf(" "+a+"=");if(-1===c&&(c=b.indexOf(a+"=")),-1===c)b=null;else{c=b.indexOf("=",c)+1;var d=b.indexOf(";",c);-1===d&&(d=b.length),b=decodeURIComponent(b.substring(c,d))}return b},checkCookie:function(a,b){var c=new RegExp(a+"="+b+"(;*)","g");return this.cookie.match(c)},showAlert:function(){if(!this.html.$advice&&!this.html.$bg){switch(this.html.$bg=a('<div id="cookies-alert-bg"></div>').hide(),this.html.$advice=a('<div id="cookies-alert"></div>').hide(),this.settings.style){case"1":this.html.$close=a('<span id="close" style="top:10px">X</span>');break;case"2":this.html.$close=a('<span id="close">Cerrar</span>');break;default:this.html.$close=a('<span id="close" style="top:10px">X</span>')}this.html.$close.hide();var b=""!==this.settings.url?'<a href="'+this.settings.url+'" target="_blank">Política de Cookies</a>':"Política de Cookies";this.html.$content=a("<p><strong>"+this.settings.name+"</strong> utiliza cookies propias y de terceros para mejorar tu experiencia de navegación y realizar tareas de análisis. Si continúas navegando consideramos que aceptas el uso de cookies.<br/>Por favor, revisa nuestra "+b+".</p>"),this.html.$close.click(function(){cookiesKitchen.hideAlert()}),this.html.$advice.append("<style>"+this.styles.bg+this.styles[this.settings.style]+"</style>").append(this.html.$content.append(this.html.$close)),a("body").prepend(this.html.$advice).prepend(this.html.$bg),a(c).trigger("cooking-cookie"),this.lastEvent="cooking-cookie"}switch(this.settings.block&&this.html.$bg.fadeIn(),this.settings.animation){case"slide":this.html.$advice.slideDown();break;case"fade":this.html.$advice.fadeIn();break;default:this.html.$advice.fadeIn()}this.html.$close.fadeIn()},hideAlert:function(){switch(a(c).trigger("burning-cookie"),this.lastEvent="burning-cookie",this.html.$close.fadeOut(),cookiesKitchen.settings.outAnim){case"slide":this.html.$advice.slideUp();break;case"fade":this.html.$advice.fadeOut();break;default:this.html.$advice.fadeOut()}cookiesKitchen.settings.block&&this.html.$bg.fadeOut(),cookiesKitchen.makeMeBurn()},cookMe:function(a){a===d&&(a={burnedCookies:"0"}),"0"!==a.burnedCookies?(cookiesKitchen.hideAlert(),!cookiesKitchen.getCookie(cookiesKitchen.settings.cookieName)&&cookiesKitchen.checkCookie(cookiesKitchen.settings.cookieName,cookiesKitchen.settings.cookieVal)&&cookiesKitchen.setCookie(cookiesKitchen.settings.cookieName,cookiesKitchen.settings.cookieVal,cookiesKitchen.settings.cookieTime)):cookiesKitchen.showAlert()},makeMeBurn:function(b){b===d&&(b={burnedCookies:"0"}),cookiesKitchen.setCookie(cookiesKitchen.settings.cookieName,cookiesKitchen.settings.cookieVal,cookiesKitchen.settings.cookieTime),"0"===b.burnedCookies&&this.tryCount>0&&a.ajax({url:this.settings.apiUrl,dataType:"jsonp",data:{cFn:"cookiesKitchen.makeMeBurn",domain:cookiesKitchen.settings.domain},complete:function(){cookiesKitchen.tryCount--}})}},cookiesKitchen.init()}(jQuery||window._$,window,document);